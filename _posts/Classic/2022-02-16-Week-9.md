---
layout: post
meta: "Week-9"
title: "Week-9: ê¸°íƒ€ ë¬¸ì œ"
categories: Classic
tags: Python
mathjax: true
---

* content
{:toc}
# ë°°ë‚­ ë¬¸ì œ

<u>knapsack.py</u>

```python
from typing import NamedTuple, List


class Item(NamedTuple):
    name:str
    weight:int
    value:float


def knapsack(items:List[Item], max_capacity:int) -> List[Item]:
    table:List[List[float]] = [[0.0 for _ in range(max_capacity + 1)] for _ in range(len(items) + 1)]
    for i, item in enumerate(items):
        for capacity in range(1, max_capacity + 1):
            previous_items_value:float = table[i][capacity]
            # ë¬¼ê±´ì´ ë°°ë‚­ ìš©ëŸ‰ì— ë§ëŠ” ê²½ìš°
            if capacity >= item.weight: 
                value_freeing_weight_for_item:float = table[i][capacity - item.weight]
                # ë” ê°€ì¹˜ ìˆëŠ” ë¬¼ê±´ì„ ë„£ëŠ”ë‹¤
                table[i + 1][capacity] = max(value_freeing_weight_for_item + item.value, previous_items_value)
            # ë¬¼ê±´ì´ ë°°ë‚­ ìš©ëŸ‰ì— ë§ì§€ ì•ŠëŠ” ê²½ìš°
            else:
                table[i + 1][capacity] = previous_items_value
    solution:List[Item] = []
    capacity = max_capacity
    for i in range(len(items), 0, -1):
        if table[i - 1][capacity] != table[i][capacity]:
            solution.append(items[i - 1])
            capacity -= items[i - 1].weight
    return solution


if __name__ == "__main__":
    items:List[Item] = [Item("TV", 50, 500),
                        Item("ì´›ëŒ€", 2, 300),
                        Item("ì˜¤ë””ì˜¤", 35, 400),
                        Item("ë…¸íŠ¸ë¶", 3, 1000),
                        Item("ì‹ëŸ‰", 15, 50),
                        Item("ì˜·", 20, 800),
                        Item("ë³´ì„", 1, 4000),
                        Item("ì±…", 100, 300),
                        Item("í”„ë¦°í„°", 18, 30),
                        Item("ëƒ‰ì¥ê³ ", 200, 700),
                        Item("ê·¸ë¦¼", 10, 1000)]
    print(knapsack(items, 75))
```

ë©”ëª¨ì´ì œì´ì…˜ì„ ìœ„í•´ 2ì°¨ì› ë¦¬ìŠ¤íŠ¸ tableì„ ìƒì„±í•œë‹¤. í…Œì´ë¸”ì˜ í–‰ì€ ë¬¼ê±´, í…Œì´ë¸”ì˜ ì—´ì€ ë°°ë‚­ì˜ ë¬´ê²Œì´ë‹¤.

ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ 3ê°œì˜ ë¬¼ê±´ê³¼ 3íŒŒìš´ë“œì˜ ìš©ëŸ‰ë§Œì„ ì„¤ì •í•´ ë¬¸ì œë¥¼ ì¶•ì†Œí–ˆë‹¤. ë‹¤ìŒ í‘œëŠ” ì¶•ì†Œí•œ ë¬¸ì œì˜ í…Œì´ë¸”ì´ë‹¤.

|                         | 0íŒŒìš´ë“œ | 1íŒŒìš´ë“œ | 2íŒŒìš´ë“œ | 3íŒŒìš´ë“œ |
| ----------------------- | ------- | ------- | ------- | ------- |
| ì„±ëƒ¥ 1íŒŒìš´ë“œ / 5ë‹¬ëŸ¬    | 0       | 5       | 5       | 5       |
| ì†ì „ë“± 2íŒŒìš´ë“œ / 10ë‹¬ëŸ¬ | 0       | 5       | 10      | 15      |
| ì±… 1íŒŒìš´ë“œ / 15ë‹¬ëŸ¬     | 0       | 15      | 20      | 25      |

ë¬¼ê±´ì˜ ì¢…ë¥˜ê°€ ì„±ëƒ¥ë¿ì´ë¼ë©´(1í–‰) ìµœëŒ€ ê°’ì–´ì¹˜ëŠ” 5ë‹¬ëŸ¬ì´ë‹¤. í•˜ì§€ë§Œ ì†ì „ë“±ì„ ì¶”ê°€ë¡œ ê³ ë ¤í•œë‹¤ë©´(2í–‰), ì„±ëƒ¥ê³¼ ì†ì „ë“± ëª¨ë‘ ë°°ë‚­ì— ë“¤ì–´ê°€ë¯€ë¡œ ìµœëŒ€ ê°’ì–´ì¹˜ê°€ 15ë‹¬ëŸ¬ë¡œ ëŠ˜ì–´ë‚œë‹¤. ì±…ì„ ì¶”ê°€ë¡œ ê³ ë ¤í•œë‹¤(3í–‰). ì±…ì€ ì„±ëƒ¥ê³¼ ë¹„êµí–ˆì„ ë•Œ ë¬´ê²Œì— ë¹„í•´ ë†’ì€ ê°’ì–´ì¹˜ë¥¼ ê°€ì§€ë©°, ë”°ë¼ì„œ ì„±ëƒ¥ + ì†ì „ë“± ëŒ€ì‹  ì±… + ì†ì „ë“±ìœ¼ë¡œ ë°°ë‚­ì„ ì±„ìš´ë‹¤ë©´ ìµœëŒ€ ê°’ì–´ì¹˜ë¥¼ 25ë‹¬ëŸ¬ë¡œ ì¦ê°€ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

í˜„ì¬ í–‰ì˜ ê²°ê³¼ê°€ ì´ì „ í–‰ì˜ ê²°ê³¼ì™€ ë‹¤ë¥´ë‹¤ë©´ êµ¬ì„±í’ˆì´ ë³€ê²½ëœ ê²ƒì´ë‹¤. ì´ë¥¼ ì´ìš©í•˜ë©´ ë§ˆì§€ë§‰ í–‰ìœ¼ë¡œë¶€í„° ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ ë°°ë‚­ êµ¬ì„±í’ˆì„ ì¶”ì í•  ìˆ˜ ìˆë‹¤.

<u>Terminal</u>

```
[Item(name='ê·¸ë¦¼', weight=10, value=1000), Item(name='ë³´ì„', weight=1, value=4000), Item(name='ì˜·', weight=20, value=800), Item(name='ë…¸íŠ¸ë¶', weight=3, value=1000), Item(name='ì˜¤ë””ì˜¤', weight=35, value=400), Item(name='ì´›ëŒ€', weight=2, value=300)]
```

---

# ì™¸íŒì› ë¬¸ì œ

<u>tsp.py</u>

```python
from typing import Dict, List, Iterable, Tuple
from itertools import permutations


vt_distances:Dict[str, Dict[str, int]] = {
    "ëŸ¬í‹€ëœë“œ": {
        "ë²Œë§í„´": 67,
        "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜": 46,
        "ë² ë‹í„´": 55,
        "ë¸Œë˜í‹€ë³´ë¡œ": 75
    },
    "ë²Œë§í„´": {
        "ëŸ¬í‹€ëœë“œ": 67,
        "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜": 91,
        "ë² ë‹í„´": 122,
        "ë¸Œë˜í‹€ë³´ë¡œ": 153
    },
    "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜": {
        "ëŸ¬í‹€ëœë“œ": 46,
        "ë²Œë§í„´": 91,
        "ë² ë‹í„´": 98,
        "ë¸Œë˜í‹€ë³´ë¡œ": 65
    },
    "ë² ë‹í„´": {
        "ëŸ¬í‹€ëœë“œ": 55,
        "ë²Œë§í„´": 122,
        "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜": 98,
        "ë¸Œë˜í‹€ë³´ë¡œ": 40
    },
    "ë¸Œë˜í‹€ë³´ë¡œ": {
        "ëŸ¬í‹€ëœë“œ": 75,
        "ë²Œë§í„´": 153,
        "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜": 65,
        "ë² ë‹í„´": 40
    }
}


vt_cities:Iterable[str] = vt_distances.keys()
city_permutations:Iterable[Tuple[str, ...]] = permutations(vt_cities)
tsp_paths:List[Tuple[str, ...]] = [c + (c[0],) for c in city_permutations]


if __name__ == "__main__":
    best_path:Tuple[str, ...]
    min_distance:int = 99999999999
    for path in tsp_paths:
        distance:int = 0
        last:str = path[0]
        for next in path[1:]:
            distance += vt_distances[last][next]
            last = next
        if distance < min_distance:
            min_distance = distance
            best_path = path
    print(f"ìµœë‹¨ ê²½ë¡œëŠ” {best_path}ì´ê³ , {min_distance} ë§ˆì¼ì…ë‹ˆë‹¤.")
```

**itertools** ëª¨ë“ˆì„ ì‚¬ìš©í•´ **permutations**(ìˆœì—´)ë¥¼ ìƒì„±í•˜ê³ , ëª¨ë“  ê°€ëŠ¥ì„±(5! = 120)ì„ **ë¸Œë£¨íŠ¸ í¬ìŠ¤**ë¡œ ê²€ì‚¬í•´ ìµœë‹¨ ê²½ë¡œë¥¼ ê°–ëŠ” ê²½ìš°ë¥¼ ë°˜í™˜í•œë‹¤.

ìƒˆë¡œ ë°œê²¬í•œ ê²½ë¡œê°€ ìµœë‹¨ ê²½ë¡œë³´ë‹¤ ë” ì§§ì„ ê²½ìš° ê°±ì‹ ì´ ì´ë£¨ì–´ì§„ë‹¤.

<u>Terminal</u>

```
ìµœë‹¨ ê²½ë¡œëŠ” ('ëŸ¬í‹€ëœë“œ', 'ë²Œë§í„´', 'í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜', 'ë¸Œë˜í‹€ë³´ë¡œ', 'ë² ë‹í„´', 'ëŸ¬í‹€ëœë“œ')ì´ê³ , 318 ë§ˆì¼ì…ë‹ˆë‹¤.
```

---

# ì „í™”ë²ˆí˜¸ ë‹ˆëª¨ë‹‰

<u>phone_number_mnemonics.py</u>

```python
from typing import Dict, Tuple, Iterable, List
from itertools import product


phone_mapping:Dict[str, Tuple[str, ...]] = {
    "1": ("1",),
    "2": ("a", "b", "c"),
    "3": ("d", "e", "f"),
    "4": ("g", "h", "i"),
    "5": ("j", "k", "l"),
    "6": ("m", "n", "o"),
    "7": ("p", "q", "r", "s"),
    "8": ("t", "u", "v"),
    "9": ("w", "x", "y", "z"),
    "0": ("0",),
}


def possible_mnemonics(phone_number:str) -> Iterable[Tuple[str, ...]]:
    letter_tuples:List[Tuple[str, ...]] = []
    for digit in phone_number:
        letter_tuples.append(phone_mapping.get(digit, (digit,)))
    return product(*letter_tuples)


if __name__ == "__main__":
    phone_number:str = input("ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”: ")
    print("ê°€ëŠ¥í•œ ë‹ˆëª¨ë‹‰ ëª©ë¡: ")
    for mnemonic in possible_mnemonics(phone_number):
        print("".join(mnemonic))
```

**itertools** ëª¨ë“ˆì˜ **product**(ì¤‘ë³µ ìˆœì—´)ë¥¼ ì‚¬ìš©í•´ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.

```
ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”: 2024738
ê°€ëŠ¥í•œ ë‹ˆëª¨ë‹‰ ëª©ë¡: 
a0agpdt
a0agpdu

...

c0cisfu
c0cisfv
```

---

# ì—°ìŠµë¬¸ì œ

## ğŸ“ 9-1

1. *Practice question*

   4ì¥ì˜ ê·¸ë˜í”„ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸íŒì› ë¬¸ì œ ì½”ë“œë¥¼ ë‹¤ì‹œ ì‘ì„±í•˜ë¼.



<u>_practice_question_9_1.py</u>

```python
from __future__ import annotations
from weighted_graph import WeightedGraph
from itertools import permutations


def search(weightedGraph:WeightedGraph):
    best = 999_999_999
    path = None

    def vertex2_to_weight(from_vertex, to_vertex):
        from_index = weightedGraph.index_of(from_vertex)
        items = weightedGraph.neighbors_for_index_with_weights(from_index)
        weight = [item[1] for item in items if item[0] == to_vertex][0]
        return weight

    for a in list(permutations(weightedGraph._vertices)):
        current = vertex2_to_weight(a[0], a[-1])
        for idx in range(weightedGraph.vertex_count - 1):
            current += vertex2_to_weight(a[idx], a[idx + 1])
        if current < best:
            best = current
            path = a
    
    path = list(path)
    path.append(path[0])
    return f"ìµœë‹¨ ê²½ë¡œëŠ” {path} ì´ê³ , {best} ë§ˆì¼ì…ë‹ˆë‹¤."


if __name__ == "__main__":
    tsp_graph:WeightedGraph[str] = WeightedGraph(
        ["ëŸ¬í‹€ëœë“œ", "ë²Œë§í„´", "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜", "ë² ë‹í„´", "ë¸Œë˜í‹€ë³´ë¡œ"]
    )
    tsp_graph.add_edge_by_vertices("ëŸ¬í‹€ëœë“œ", "ë²Œë§í„´", 67)
    tsp_graph.add_edge_by_vertices("ëŸ¬í‹€ëœë“œ", "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜", 46)
    tsp_graph.add_edge_by_vertices("ëŸ¬í‹€ëœë“œ", "ë² ë‹í„´", 55)
    tsp_graph.add_edge_by_vertices("ëŸ¬í‹€ëœë“œ", "ë¸Œë˜í‹€ë³´ë¡œ", 75)
    tsp_graph.add_edge_by_vertices("ë²Œë§í„´", "í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜", 91)
    tsp_graph.add_edge_by_vertices("ë²Œë§í„´", "ë² ë‹í„´", 122)
    tsp_graph.add_edge_by_vertices("ë²Œë§í„´", "ë¸Œë˜í‹€ë³´ë¡œ", 153)
    tsp_graph.add_edge_by_vertices("í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜", "ë² ë‹í„´", 98)
    tsp_graph.add_edge_by_vertices("í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜", "ë¸Œë˜í‹€ë³´ë¡œ", 65)
    tsp_graph.add_edge_by_vertices("ë² ë‹í„´", "ë¸Œë˜í‹€ë³´ë¡œ", 40)

    result = search(tsp_graph)
    print(result)
```

<u>Terminal</u>

```
ìµœë‹¨ ê²½ë¡œëŠ” ['ëŸ¬í‹€ëœë“œ', 'ë²Œë§í„´', 'í™”ì´íŠ¸ ë¦¬ë²„ ì •ì…˜', 'ë¸Œë˜í‹€ë³´ë¡œ', 'ë² ë‹í„´', 'ëŸ¬í‹€ëœë“œ'] ì´ê³ , 318 ë§ˆì¼
ì…ë‹ˆë‹¤.
```

## ğŸ“ 9-2

1. *Practice question*

   5ì¥ì—ì„œ ë°°ìš´ ìœ ì „ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ì™¸íŒì› ë¬¸ì œë¥¼ êµ¬í˜„í•˜ë¼. ì´ ì¥ì—ì„œ ì„¤ëª…í•œ ë²„ëª¬íŠ¸ ì£¼ ë„ì‹œì˜ ê°„ë‹¨í•œ ë°ì´í„°ì…‹ë¶€í„° ì‹œì‘í•œë‹¤. ìœ ì „ ì•Œê³ ë¦¬ì¦˜ì´ ì§§ì€ ì‹œê°„ ë‚´ì— ìµœì ì˜ ë‹µì„ ì œê³µí•˜ëŠ”ê°€? ê·¸ëŸ° ë‹¤ìŒ ì ì  ë” ë§ì€ ë„ì‹œë¥¼ ì¶”ê°€í•˜ì—¬ ë¬¸ì œë¥¼ í’€ì–´ë³´ë¼. ìœ ì „ ì•Œê³ ë¦¬ì¦˜ì€ ì–¼ë§ˆë‚˜ ì˜ ìœ ì§€ë˜ëŠ”ê°€? ì¸í„°ë„·ì—ì„œ ì™¸íŒì› ë¬¸ì œë¥¼ ìœ„í•´ íŠ¹ë³„íˆ ì œì‘ëœ ë§ì€ ë°ì´í„°ì…‹ì„ ì°¾ì„ ìˆ˜ ìˆë‹¤. ë¬¸ì œ ë¶„ì„ì˜ íš¨ìœ¨ì„±ì„ í™•ì¸í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¥¼ êµ¬í˜„í•˜ë¼.



## ğŸ“ 9-3

1. *Practice question*

   ì „í™”ë²ˆí˜¸ ë‹ˆëª¨ë‹‰ í”„ë¡œê·¸ë¨ì— ì‚¬ì „ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ìœ íš¨í•œ ë‹¨ì–´ê°€ í¬í•¨ëœ ìˆœì—´ë§Œ ë°˜í™˜í•˜ë¼.



<u>_practice_question_9_3.py</u>

```python
from typing import Dict, Tuple, Iterable, List
from itertools import product


phone_mapping:Dict[str, Tuple[str, ...]] = {
    "1": ("1",),
    "2": ("a", "b", "c"),
    "3": ("d", "e", "f"),
    "4": ("g", "h", "i"),
    "5": ("j", "k", "l"),
    "6": ("m", "n", "o"),
    "7": ("p", "q", "r", "s"),
    "8": ("t", "u", "v"),
    "9": ("w", "x", "y", "z"),
    "0": ("0",),
}

dictionary = ["gate", "gave", "hate", "have", "code", "love"]

def possible_mnemonics(phone_number:str) -> Iterable[Tuple[str, ...]]:
    letter_tuples:List[Tuple[str, ...]] = []
    for digit in phone_number:
        letter_tuples.append(phone_mapping.get(digit, (digit,)))
    possible_mnemonics = []
    [possible_mnemonics.append(x) for x in product(*letter_tuples) if "".join(x) in dictionary]
    return possible_mnemonics


if __name__ == "__main__":
    phone_number:str = input("ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”: ")
    print("ê°€ëŠ¥í•œ ë‹ˆëª¨ë‹‰ ëª©ë¡: ")
    for mnemonic in possible_mnemonics(phone_number):
        print("".join(mnemonic))
```

<u>Terminal</u>

```
ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”: 4283
ê°€ëŠ¥í•œ ë‹ˆëª¨ë‹‰ ëª©ë¡: 
gate
gave
hate
have
```

