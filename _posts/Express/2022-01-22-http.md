---
layout: post
meta: "http"
title: "htt"
categories: Back-End
tags: Node_js Express_js
---

* content
{:toc}
# http

http는 내장 모듈이므로 별도의 설치 없이 바로 사용할 수 있다.

```js
const http = require("http");
```



## 콜백 함수

<u>http_server_8080.js</u>

```js
const http = require("http");

http.createServer((req, res) => {
    res.writeHead(200, { "Content-Type": "text/html; charset=utf-8" });
    res.write("<h1>8080</h1>");
    res.end("<p>Hello World!</p>");
})
    .listen(8080, () => {
        console.log("8080");
    })
```

**createServer**

**req** 객체는 요청

**res** 객체는 응답. writeHead는 head를 작성하는데, HTML의 head와는 조금 다르다. 200

| 2    | 2    | 2    |
| ---- | ---- | ---- |
| 200  |      |      |
| 300  |      |      |
| 400  |      |      |
| 500  |      |      |



**listen**



<u>http_server_8081.js</u>

```js
const http = require("http");

const server = http.createServer((req, res) => {
    res.writeHead(200, { "Content-Type": "text/html; charset=utf-8" });
    res.write("<h1>8081</h1>");
    res.end("<p>Hello World!</p>");
});
server.listen(8081)
server.on("listening", () => {
    console.log("8081");
})
server.on("error", (err) => {
    console.error(err)
})
```



## 파일 실행

<u>index.html</u>

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <h1>8082</h1>
    <p>Hello World!</p>
</body>
</html>
```



<u>http_server_8082.js</u>

```js
const fs = require("fs").promises;

http.createServer(async (req, res) => {
    try {
        const data = await fs.readFile("./index.html");
        res.writeHead(200, { "Content-Type": "text/html; charset=utf-8" });
        res.end(data);
    } catch(err) {
        console.error(err);
        res.writeHead(500, { "Content-Type": "text/plain; charset=utf-8" });
        res.end(err.message);
    }
})
    .listen(8082, () => {
        console.log("8082")
    })
```

---

# REST

어쩌구

---

# Cookie

저쩌구

---

# Session

ㄹㄹ

---

