---
title: "Unity : 1 - C# 스트립트"
tags: Unity
---





# C# 스크립트

## Hello world

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Test : MonoBehaviour
{
    void Start()
    {
        Debug.Log("Hello World");
    }
    void Update()
    {
        
    }
}
```

- Start 메서드는 한 번만 실행
- Update 메서드는 한 프레임마다 실행
- Debug.Log("Console 창에 출력하는 문자열");



## 변수

| 데이터 형 이름 | 설명               | 값의 범위                       |
| -------------- | ------------------ | ------------------------------- |
| int            | 정수형             |                                 |
| float          | 부동소수점형       |                                 |
| double         | 배정도부동소수점형 |                                 |
| bool           | 불형               | true 또는 false                 |
| char           | 문자형             | 텍스트로 사용되는 유니코드 기호 |
| string         | 문자열형           | 텍스트                          |



## 제어문

```
if ( 조건식 a ) {
	처리 A
} else if ( 조건식 b ) {
	처리 B
} else {
	처리 C
}
```

```
for ( 변수 초기화; 반복 조건식; 변수 갱신 ) {
	처리
}
```



## 배열

```
타입[] 배열명 = {값1, 값2, 값3, ...}
```

```
타입[] 배열명 = new 타입[길이];
```



## 메서드

#### 1. 인수도 반환값도 없는 메서드

```c#
// 메서드 작성
void SayHello() {
    Debug.Log("Hello");
}
```

```c#
// 메서드 호출
SayHello();
```

##### 2. 인수가 있는 메서드

```c#
// 메서드 작성
void CallName(String name) {
    Debug.Log("Hello "+ name);
}
```

```c#
// 메서드 호출
CallName("Tom");
```

##### 3. 인수와 반환값이 있는 메서드

```c#
// 메서드 작성
int Add(int a, int b) {
    int c = a + b;
    return c;
}
```

```c#
// 메서드 호출
int answer;
answer = Add(2, 3);
Debug.Log (answer);
```



## 클래스

##### 1. 클래스의 작성과 사용

```
class 클래스명 {
	멤버 변수 선언;
	멤버 메서드 구현;
}
```

```c#
// 클래스 작성
public class Player {
    
    private int hp = 100;
    private int power = 50;
    
    public void Attack() {
        Debug.Log(this.power + "데메지를 입혔다.");
    }
    public void Damage(int damage) {
        this.hp -= damage;
        Debug.Log(damage + "데미지를 입었다.");
    }
}
```

```c#
// 클래스 사용
Player myPlayer = new Player();
myPlayer.Attack();
myPlayer.Damage(30);
```

##### 2. 접근 수식자

| 접근 수식자 | 접근 가능 클래스                                     |
| ----------- | :--------------------------------------------------- |
| public      | 모든 클래스에서 접근 가능                            |
| protected   | 같은 클래스와 해당 클래스의 서브클래스에서 접근 가능 |
| private     | 같은 클래스에서만 접근 가능                          |

##### 3. this 키워드

this는 자신의 인스턴스를 가리키는 키워드입니다.<br>즉, 예제의 this.power는 자신의 인스턴스가 가진 power 변수(Player 클래스의 인스턴스가 가진 power 변수)를 나타냅니다.



## Vector 클래스 사용하기

##### 1. Vector

3D 게임을 만들려면 공간에서 오브젝트를 어디에 둘지, 어느 쪽으로 옮길지, 어디로 힘을 보낼지 등을 정해야 하므로 float형의 x, y, z 값 세 개를 씁니다.<br>C#에는 이러한 값을 하나로 합쳐 다룰 수 있는 **Vector3 클래스**(구조체)가 준비되어 있습니다.

> 구조체는 클래스와 같이 변수와 메서드를 하나로 합친 구조입니다. 클래스와 비교하면 사용할 수 있는 기능이 제한되지만 클래스보다 빠르게 동작합니다.

```c#
class Vector3
{
    public float x;
    public float y;
    public float z;
    // Vector용 멤버 메서드가 아래에 이어진다.
}
```

반면 2D 게임용에는 float형의 x, y값을 갖는 **Vector2 클래스**가 있습니다.

##### 2. Vector 클래스를 사용하는 방법

```c#
Vector2 playerPos = new Vector2(3.0f, 4.0f);
playerPos.x += 8.0f;
playerPos.y += 5.0f;
Debug.Log(playerPos);
```

##### 3. Vector 클래스 응용하기

```c#
Vector2 speed = new Vector2(2.0f, 0.0f)
```

이 sped를 플레이어 좌표에 매 프레임마다 더해서 프레임마다 플레이어를 X 방향으로 2씩 이동시킬 수 있습니다.
